(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"H+bZ":function(t,e,r){"use strict";r.d(e,"a",(function(){return h}));var o=r("mrSG"),s=r("AytR"),a=r("tk/3"),i=r("fXoL"),n=r("xS7M"),l=r("TEn/"),c=r("tyNb");let h=(()=>{class t{constructor(t,e,r,o){this.device=t,this.http=e,this.alertController=r,this.router=o,this.apiKey="",this.bacisAuth="Basic "+btoa(s.a.username+":"+s.a.password),this.setHeader()}setHeader(){null==this.getLoginToken()?(console.log("Basic auth "+this.bacisAuth),this.httpOptions={headers:new a.c({"Access-Control-Allow-Headers":"Access-Control-Allow-Headers,Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With","Access-Control-Allow-Methods":"GET, POST, OPTIONS, PUT, PATCH, DELETE","Access-Control-Allow-Origin":"*",Authorization:this.bacisAuth,"X-JAINITY-API-KEY":s.a.apikey})}):this.httpOptions={headers:new a.c({"Access-Control-Allow-Headers":"Access-Control-Allow-Headers,Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With","Access-Control-Allow-Methods":"GET, POST, OPTIONS, PUT, PATCH, DELETE","Access-Control-Allow-Origin":"*",Authorization:this.bacisAuth,"X-JAINITY-API-KEY":s.a.apikey,"User-Id":this.getUserId(),"X-JAINITY-LOGIN-TOKEN":this.getLoginToken()})}}getLoginToken(){if(localStorage.login_token)return localStorage.login_token}getUserId(){return this.getUserData().id}getUserData(){if(localStorage.userdata)return JSON.parse(localStorage.getItem("userdata"))}stateList(){return this.setHeader(),this.http.get(s.a.BaseUrl+"/category/state",this.httpOptions)}login(t){let e=new FormData;return e.append("email","a@a.com"),e.append("password",t),e.append("device_token",this.device.uuid),this.http.post(s.a.BaseUrl+"auth/login",e,this.httpOptions)}logout(){let t=new FormData;return t.append("DeviceID",this.device.uuid),this.http.post(s.a.BaseUrl+"/auth/logout",t,this.httpOptions)}Register(t,e,r){let o=new FormData;return o.append("first_name",t),o.append("last_name",e),o.append("mobile_no",r),o.append("DeviceID",this.device.uuid),this.http.post(s.a.BaseUrl+"auth/register",o,this.httpOptions)}userData(t){this.http.get(s.a.BaseUrl+"/auth/user_data",this.httpOptions).subscribe(e=>{let r=e;r.status&&(t&&(this.dateDifference(r.data.user.planenddate)<=0?this.openAlert("Your plan expire, please contact to administrator",!0):this.dateDifference(r.data.user.planenddate)<=7&&this.openAlert("Your plan has expire after "+this.dateDifference(r.data.user.planenddate)+" days please contact to administrator",!1)),localStorage.setItem("userdata",JSON.stringify(r.data.user)))},t=>{console.log("Error ",t.error)})}dateDifference(t){let e=new Date,r=new Date(t);return console.log("Date Difference ",(r.getTime()-e.getTime())/864e5),Math.ceil((r.getTime()-e.getTime())/864e5)}editProfile(t){return this.http.post(s.a.BaseUrl+"/auth/edit_profile",t,this.httpOptions)}ForgotPassword(t){let e=new FormData;return e.append("mobileno",t),this.http.post(s.a.BaseUrl+"/auth/forgot_password",e,this.httpOptions)}addCat(t){return this.setHeader(),this.http.post(s.a.BaseUrl+"/Category",t,this.httpOptions)}delCat(t){return this.setHeader(),this.http.post(s.a.BaseUrl+"/category/cat",t,this.httpOptions)}getCat(){return this.setHeader(),this.http.get(s.a.BaseUrl+"/Category",this.httpOptions)}getArrive(){return this.setHeader(),this.http.get(s.a.BaseUrl+"/Product/is_arrive",this.httpOptions)}addProduct(t){return this.setHeader(),this.http.post(s.a.BaseUrl+"/Product/add_product",t,this.httpOptions)}getProcudt(t){this.setHeader();let e=new FormData;return e.append("CategoryID",t),this.http.post(s.a.BaseUrl+"/Product/product_list",e,this.httpOptions)}getWishProduct(){return this.setHeader(),this.http.get(s.a.BaseUrl+"/whishlist",this.httpOptions)}getFavProduct(){return this.setHeader(),this.http.get(s.a.BaseUrl+"/Like",this.httpOptions)}productLike(t,e){this.setHeader();let r=new FormData;return r.append("ProductID",t),r.append("IsLike",e),this.http.post(s.a.BaseUrl+"/Like",r,this.httpOptions)}productFav(t,e){this.setHeader();let r=new FormData;return r.append("ProductID",t),r.append("isFav",e),this.http.post(s.a.BaseUrl+"/whishlist",r,this.httpOptions)}removeProduct(t){this.setHeader();let e=new FormData;return e.append("ProductID",t),this.http.post(s.a.BaseUrl+"/Product/remove_product",e,this.httpOptions)}addCustomer(t){return this.setHeader(),this.http.post(s.a.BaseUrl+"/customer/add_customer",t,this.httpOptions)}removeCustomer(t){this.setHeader();let e=new FormData;return e.append("CustomerID",t),this.http.post(s.a.BaseUrl+"/customer/remove_customer",e,this.httpOptions)}addMeasurement(t){return this.setHeader(),this.http.post(s.a.BaseUrl+"/customer/measurement",t,this.httpOptions)}getCustomer(){return this.setHeader(),this.http.get(s.a.BaseUrl+"/customer/customer_list",this.httpOptions)}getMeasurement(t){return this.setHeader(),this.http.post(s.a.BaseUrl+"/customer/measurement_list",t,this.httpOptions)}getNotification(){return this.setHeader(),this.http.get(s.a.BaseUrl+"/notification",this.httpOptions)}getOrderCustomer(){return this.setHeader(),this.http.get(s.a.BaseUrl+"/order/customer_list",this.httpOptions)}getOrder(t,e){this.setHeader();let r=new FormData;return r.append("CustomerID",t),r.append("type",e),console.log("Customer ID ",t),console.log("Type ",e),this.http.post(s.a.BaseUrl+"/order/order_list",r,this.httpOptions)}removeOrder(t){this.setHeader();let e=new FormData;return e.append("OderHdrID",t),this.http.post(s.a.BaseUrl+"/order/remove_order",e,this.httpOptions)}updateOrder(t,e){this.setHeader();let r=new FormData;return r.append("OderHdrID",t),r.append("Status",e),console.log("OderHdrID ",t),console.log("Status ",e),this.http.post(s.a.BaseUrl+"/order/status",r,this.httpOptions)}addOrder(t){return this.setHeader(),this.http.post(s.a.BaseUrl+"/order",t,this.httpOptions)}getFrom(){if(window.localStorage.from)return localStorage.getItem("from")}setFrom(t){return null!=t?localStorage.setItem("from",t):(localStorage.removeItem("from"),t)}getCustomerID(){if(window.localStorage.customerID)return localStorage.getItem("customerID")}setCustomerID(t){return null!=t?localStorage.setItem("customerID",t):(localStorage.removeItem("customerID"),t)}getOrderData(){if(window.localStorage.order)return JSON.parse(localStorage.getItem("order"))}setOrderData(t){return null!=t?localStorage.setItem("order",JSON.stringify(t)):(localStorage.removeItem("order"),t)}getCustomerData(){if(window.localStorage.customer)return JSON.parse(localStorage.getItem("customer"))}getStateList(){if(window.localStorage.stateList)return JSON.parse(localStorage.getItem("stateList"))}setCustomerData(t){return null!=t?localStorage.setItem("customer",JSON.stringify(t)):(localStorage.removeItem("customer"),t)}getProductData(){if(window.localStorage.product)return JSON.parse(localStorage.getItem("product"))}setProductData(t){return null!=t?localStorage.setItem("product",JSON.stringify(t)):(localStorage.removeItem("product"),t)}getCategoryData(){if(window.localStorage.Category)return JSON.parse(localStorage.getItem("Category"))}setCategoryData(t){return null!=t?localStorage.setItem("Category",JSON.stringify(t)):(localStorage.removeItem("Category"),t)}ChangePassword(t){return this.setHeader(),this.http.post(s.a.BaseUrl+"/auth/change_password",t,this.httpOptions)}openAlert(t,e){return Object(o.a)(this,void 0,void 0,(function*(){const r=yield this.alertController.create({message:t||"This is an alert message.",buttons:[{text:e?"Login":"Ok",handler:()=>{e&&(localStorage.setItem("userdata",""),localStorage.setItem("login_token",""),localStorage.clear(),this.router.navigateByUrl("/login",{replaceUrl:!0}))}}],backdropDismiss:!1});return yield r.present()}))}getKeyPairValue(t){let e=[];for(let r in t)e.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e=e.join("&"),e}dataURItoBlob(t){const e=window.atob(t),r=new ArrayBuffer(e.length),o=new Uint8Array(r);for(let s=0;s<e.length;s++)o[s]=e.charCodeAt(s);return new Blob([o],{type:"image/jpeg"})}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(n.a),i.Ob(a.a),i.Ob(l.a),i.Ob(c.g))},t.\u0275prov=i.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},PCNd:function(t,e,r){"use strict";r.d(e,"a",(function(){return h}));var o=r("ofXK"),s=r("3Pt+"),a=r("TEn/"),i=r("fXoL"),n=r("tyNb");let l=(()=>{class t{constructor(t){this.router=t}canActivate(){return!!this.loggedIn()||(this.router.navigate(["/login"]),!1)}loggedIn(){return null!==localStorage.getItem("userdata")&&""!==localStorage.getItem("userdata")}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(n.g))},t.\u0275prov=i.Db({token:t,factory:t.\u0275fac}),t})();var c=r("baId");let h=(()=>{class t{}return t.\u0275mod=i.Fb({type:t}),t.\u0275inj=i.Eb({factory:function(e){return new(e||t)},providers:[l,c.a,o.d],imports:[[o.b,a.t,s.h],o.b,a.t,s.h]}),t})()},baId:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var o=r("mrSG"),s=r("fXoL"),a=r("TEn/"),i=r("H+bZ"),n=r("kwrG"),l=r("tyNb");let c=(()=>{class t{constructor(t,e,r,o,s,a,i){this.alertController=t,this.apiServices=e,this.toastController=r,this.network=o,this.loadingController=s,this.router=a,this.navCtrl=i}backPage(){this.navCtrl.back()}callStateList(t){return Object(o.a)(this,void 0,void 0,(function*(){if(!this.isNetwork())return this.closeLoader(),[];t&&this.openLoader(),this.apiServices.stateList().subscribe(t=>{var e=t;if(this.closeLoader(),!e.status)return localStorage.setItem("stateList",JSON.stringify([])),[];localStorage.setItem("stateList",JSON.stringify(e.state_list))},t=>{this.closeLoader(),console.log("Error ",t)})}))}getCities(t,e){if(t.length>0)return t.filter(t=>t.StateID===e).length>0?t.filter(t=>t.StateID===e)[0].City:[]}isNetwork(){return this.closeLoader(),"none"!=this.network.type||(this.presentAlert("No internet","You do not have an Internet connection. Please check your connection status","Ok"),!1)}formatephone(t){return t.replace(/[^a-zA-Z0-9]/g,"").replace(/(\d{3})(\d{3})(\d{4})/,"$1-$2-$3")}openNotification(t){return Object(o.a)(this,void 0,void 0,(function*(){this.notification=yield this.toastController.create({message:t.message,duration:t.duration?t.duration:3e3,position:t.position?t.position:"top",cssClass:t.class?t.class:"info"}),this.notification.present()}))}formateDateyyyymmddhis(t){return Object(o.a)(this,void 0,void 0,(function*(){let e=("0"+(t.getMonth()+1)).slice(-2),r=("0"+t.getDate()).slice(-2);return t.getFullYear()+"-"+e+"-"+r+" "+("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)+":"+("0"+t.getSeconds()).slice(-2)}))}formateDay(t){return Object(o.a)(this,void 0,void 0,(function*(){let e=t.getDate(),r=t.getFullYear(),o=t.getMonth()+1;return e<10&&(e="0"+e),o<10&&(o="0"+o),t=r+"-"+o+"-"+e}))}formatAMPM1(t){return Object(o.a)(this,void 0,void 0,(function*(){let e=t.getHours(),r=t.getMinutes(),o=e>=12?"PM":"AM";return e%=12,e=e||12,r=r<10?"0"+r:r,e+":"+r+" "+o}))}formatAMPM(t){return Object(o.a)(this,void 0,void 0,(function*(){let e=t.getUTCHours(),r=t.getUTCMinutes(),o=e>=12?"PM":"AM";return e%=12,e=e||12,r=r<10?"0"+r:r,e+":"+r+" "+o}))}openLoader(t="",e){return Object(o.a)(this,void 0,void 0,(function*(){this.loading=yield this.loadingController.create({message:e||"",keyboardClose:!0,showBackdrop:!0,cssClass:t}),yield this.loading.present()}))}openAlert(t){return Object(o.a)(this,void 0,void 0,(function*(){const e=yield this.alertController.create({message:t||"This is an alert message.",buttons:["OK"],backdropDismiss:!1});return yield e.present()}))}openAlertToken(t,e){return Object(o.a)(this,void 0,void 0,(function*(){console.log("Api Status ",t);const r=yield this.alertController.create({message:e||"This is an alert message.",buttons:[{text:401==t?"Login":"Ok",handler:()=>{401==t&&(localStorage.setItem("userdata",""),localStorage.setItem("login_token",""),localStorage.clear(),this.router.navigateByUrl("/login",{replaceUrl:!0}))}}],backdropDismiss:!1});return yield r.present()}))}presentLogout(t,e,r){return Object(o.a)(this,void 0,void 0,(function*(){const o=yield this.alertController.create({message:t,buttons:[{text:r||"Cancel",role:"cancel",handler:()=>{}},{text:e||"Yes",handler:()=>{localStorage.setItem("userdata",""),localStorage.setItem("login_token",""),localStorage.clear(),this.router.navigateByUrl("/login",{replaceUrl:!0})}}],backdropDismiss:!0});return yield o.present()}))}presentAlertToLogin(t,e,r){return Object(o.a)(this,void 0,void 0,(function*(){this.closeLoader();const o=yield this.alertController.create({header:t,message:e,buttons:[{text:r,handler:()=>{localStorage.setItem("userdata",""),localStorage.setItem("login_token",""),localStorage.clear(),this.router.navigateByUrl("/login",{replaceUrl:!0})}}]});yield o.present()}))}presentAlert(t,e,r,s){return Object(o.a)(this,void 0,void 0,(function*(){const o=yield this.alertController.create({header:t,message:e,buttons:[{text:r,handler:()=>{s&&this.router.navigateByUrl("/dashboard",{replaceUrl:!0})}}]});yield o.present()}))}presentConfirm(t,e,r){return Object(o.a)(this,void 0,void 0,(function*(){const o=yield this.alertController.create({message:t||"Do you want to buy this book?",buttons:[{text:r||"Cancel",role:"cancel",handler:()=>{}},{text:e||"Yes",handler:()=>{}}],backdropDismiss:!1});return yield o.present()}))}closeLoader(){this.loading&&this.loading.dismiss()}dataURItoBlob(t){let e;e=t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):unescape(t.split(",")[1]);let r=t.split(",")[0].split(":")[1].split(";")[0],o=new Uint8Array(e.length);for(let s=0;s<e.length;s++)o[s]=e.charCodeAt(s);return new Blob([o],{type:r})}returnImageName(t,e,r){let o;return r?(o=(new Date).getTime()+t+".jpg",r.lastModified=new Date,r.name=o):o=(new Date).getTime()+t+e.name,o.replace(/_/g," "),o=o.replace(/\s+/g,"-"),o=o.replace(/%20/g,"_"),o}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(a.a),s.Ob(i.a),s.Ob(a.A),s.Ob(n.a),s.Ob(a.v),s.Ob(l.g),s.Ob(a.w))},t.\u0275prov=s.Db({token:t,factory:t.\u0275fac}),t})()}}]);