!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"H+bZ":function(t,n,a){"use strict";a.d(n,"a",(function(){return h}));var o=a("mrSG"),s=a("AytR"),i=a("tk/3"),u=a("fXoL"),c=a("xS7M"),l=a("TEn/"),p=a("tyNb"),h=function(){var t=function(){function t(r,n,a,o){e(this,t),this.device=r,this.http=n,this.alertController=a,this.router=o,this.apiKey="",this.bacisAuth="Basic "+btoa(s.a.username+":"+s.a.password),this.setHeader()}return r(t,[{key:"setHeader",value:function(){null==this.getLoginToken()?(console.log("Basic auth "+this.bacisAuth),this.httpOptions={headers:new i.c({"Access-Control-Allow-Headers":"Access-Control-Allow-Headers,Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With","Access-Control-Allow-Methods":"GET, POST, OPTIONS, PUT, PATCH, DELETE","Access-Control-Allow-Origin":"*",Authorization:this.bacisAuth,"X-JAINITY-API-KEY":s.a.apikey})}):this.httpOptions={headers:new i.c({"Access-Control-Allow-Headers":"Access-Control-Allow-Headers,Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With","Access-Control-Allow-Methods":"GET, POST, OPTIONS, PUT, PATCH, DELETE","Access-Control-Allow-Origin":"*",Authorization:this.bacisAuth,"X-JAINITY-API-KEY":s.a.apikey,"User-Id":this.getUserId(),"X-JAINITY-LOGIN-TOKEN":this.getLoginToken()})}}},{key:"getLoginToken",value:function(){if(localStorage.login_token)return localStorage.login_token}},{key:"getUserId",value:function(){return this.getUserData().id}},{key:"getUserData",value:function(){if(localStorage.userdata)return JSON.parse(localStorage.getItem("userdata"))}},{key:"stateList",value:function(){return this.setHeader(),this.http.get(s.a.BaseUrl+"/category/state",this.httpOptions)}},{key:"login",value:function(e){var t=new FormData;return t.append("email","a@a.com"),t.append("password",e),t.append("device_token",this.device.uuid),this.http.post(s.a.BaseUrl+"auth/login",t,this.httpOptions)}},{key:"logout",value:function(){var e=new FormData;return e.append("DeviceID",this.device.uuid),this.http.post(s.a.BaseUrl+"/auth/logout",e,this.httpOptions)}},{key:"Register",value:function(e,t,r){var n=new FormData;return n.append("first_name",e),n.append("last_name",t),n.append("mobile_no",r),n.append("DeviceID",this.device.uuid),this.http.post(s.a.BaseUrl+"auth/register",n,this.httpOptions)}},{key:"userData",value:function(e){var t=this;this.http.get(s.a.BaseUrl+"/auth/user_data",this.httpOptions).subscribe((function(r){var n=r;n.status&&(e&&(t.dateDifference(n.data.user.planenddate)<=0?t.openAlert("Your plan expire, please contact to administrator",!0):t.dateDifference(n.data.user.planenddate)<=7&&t.openAlert("Your plan has expire after "+t.dateDifference(n.data.user.planenddate)+" days please contact to administrator",!1)),localStorage.setItem("userdata",JSON.stringify(n.data.user)))}),(function(e){console.log("Error ",e.error)}))}},{key:"dateDifference",value:function(e){var t=new Date,r=new Date(e);return console.log("Date Difference ",(r.getTime()-t.getTime())/864e5),Math.ceil((r.getTime()-t.getTime())/864e5)}},{key:"editProfile",value:function(e){return this.http.post(s.a.BaseUrl+"/auth/edit_profile",e,this.httpOptions)}},{key:"ForgotPassword",value:function(e){var t=new FormData;return t.append("mobileno",e),this.http.post(s.a.BaseUrl+"/auth/forgot_password",t,this.httpOptions)}},{key:"addCat",value:function(e){return this.setHeader(),this.http.post(s.a.BaseUrl+"/Category",e,this.httpOptions)}},{key:"delCat",value:function(e){return this.setHeader(),this.http.post(s.a.BaseUrl+"/category/cat",e,this.httpOptions)}},{key:"getCat",value:function(){return this.setHeader(),this.http.get(s.a.BaseUrl+"/Category",this.httpOptions)}},{key:"getArrive",value:function(){return this.setHeader(),this.http.get(s.a.BaseUrl+"/Product/is_arrive",this.httpOptions)}},{key:"addProduct",value:function(e){return this.setHeader(),this.http.post(s.a.BaseUrl+"/Product/add_product",e,this.httpOptions)}},{key:"getProcudt",value:function(e){this.setHeader();var t=new FormData;return t.append("CategoryID",e),this.http.post(s.a.BaseUrl+"/Product/product_list",t,this.httpOptions)}},{key:"getWishProduct",value:function(){return this.setHeader(),this.http.get(s.a.BaseUrl+"/whishlist",this.httpOptions)}},{key:"getFavProduct",value:function(){return this.setHeader(),this.http.get(s.a.BaseUrl+"/Like",this.httpOptions)}},{key:"productLike",value:function(e,t){this.setHeader();var r=new FormData;return r.append("ProductID",e),r.append("IsLike",t),this.http.post(s.a.BaseUrl+"/Like",r,this.httpOptions)}},{key:"productFav",value:function(e,t){this.setHeader();var r=new FormData;return r.append("ProductID",e),r.append("isFav",t),this.http.post(s.a.BaseUrl+"/whishlist",r,this.httpOptions)}},{key:"removeProduct",value:function(e){this.setHeader();var t=new FormData;return t.append("ProductID",e),this.http.post(s.a.BaseUrl+"/Product/remove_product",t,this.httpOptions)}},{key:"addCustomer",value:function(e){return this.setHeader(),this.http.post(s.a.BaseUrl+"/customer/add_customer",e,this.httpOptions)}},{key:"removeCustomer",value:function(e){this.setHeader();var t=new FormData;return t.append("CustomerID",e),this.http.post(s.a.BaseUrl+"/customer/remove_customer",t,this.httpOptions)}},{key:"addMeasurement",value:function(e){return this.setHeader(),this.http.post(s.a.BaseUrl+"/customer/measurement",e,this.httpOptions)}},{key:"getCustomer",value:function(){return this.setHeader(),this.http.get(s.a.BaseUrl+"/customer/customer_list",this.httpOptions)}},{key:"getMeasurement",value:function(e){return this.setHeader(),this.http.post(s.a.BaseUrl+"/customer/measurement_list",e,this.httpOptions)}},{key:"getNotification",value:function(){return this.setHeader(),this.http.get(s.a.BaseUrl+"/notification",this.httpOptions)}},{key:"getOrderCustomer",value:function(){return this.setHeader(),this.http.get(s.a.BaseUrl+"/order/customer_list",this.httpOptions)}},{key:"getOrder",value:function(e,t){this.setHeader();var r=new FormData;return r.append("CustomerID",e),r.append("type",t),console.log("Customer ID ",e),console.log("Type ",t),this.http.post(s.a.BaseUrl+"/order/order_list",r,this.httpOptions)}},{key:"removeOrder",value:function(e){this.setHeader();var t=new FormData;return t.append("OderHdrID",e),this.http.post(s.a.BaseUrl+"/order/remove_order",t,this.httpOptions)}},{key:"updateOrder",value:function(e,t){this.setHeader();var r=new FormData;return r.append("OderHdrID",e),r.append("Status",t),console.log("OderHdrID ",e),console.log("Status ",t),this.http.post(s.a.BaseUrl+"/order/status",r,this.httpOptions)}},{key:"addOrder",value:function(e){return this.setHeader(),this.http.post(s.a.BaseUrl+"/order",e,this.httpOptions)}},{key:"getFrom",value:function(){if(window.localStorage.from)return localStorage.getItem("from")}},{key:"setFrom",value:function(e){return null!=e?localStorage.setItem("from",e):(localStorage.removeItem("from"),e)}},{key:"getCustomerID",value:function(){if(window.localStorage.customerID)return localStorage.getItem("customerID")}},{key:"setCustomerID",value:function(e){return null!=e?localStorage.setItem("customerID",e):(localStorage.removeItem("customerID"),e)}},{key:"getOrderData",value:function(){if(window.localStorage.order)return JSON.parse(localStorage.getItem("order"))}},{key:"setOrderData",value:function(e){return null!=e?localStorage.setItem("order",JSON.stringify(e)):(localStorage.removeItem("order"),e)}},{key:"getCustomerData",value:function(){if(window.localStorage.customer)return JSON.parse(localStorage.getItem("customer"))}},{key:"getStateList",value:function(){if(window.localStorage.stateList)return JSON.parse(localStorage.getItem("stateList"))}},{key:"setCustomerData",value:function(e){return null!=e?localStorage.setItem("customer",JSON.stringify(e)):(localStorage.removeItem("customer"),e)}},{key:"getProductData",value:function(){if(window.localStorage.product)return JSON.parse(localStorage.getItem("product"))}},{key:"setProductData",value:function(e){return null!=e?localStorage.setItem("product",JSON.stringify(e)):(localStorage.removeItem("product"),e)}},{key:"getCategoryData",value:function(){if(window.localStorage.Category)return JSON.parse(localStorage.getItem("Category"))}},{key:"setCategoryData",value:function(e){return null!=e?localStorage.setItem("Category",JSON.stringify(e)):(localStorage.removeItem("Category"),e)}},{key:"ChangePassword",value:function(e){return this.setHeader(),this.http.post(s.a.BaseUrl+"/auth/change_password",e,this.httpOptions)}},{key:"openAlert",value:function(e,t){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n,a=this;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.alertController.create({message:e||"This is an alert message.",buttons:[{text:t?"Login":"Ok",handler:function(){t&&(localStorage.setItem("userdata",""),localStorage.setItem("login_token",""),localStorage.clear(),a.router.navigateByUrl("/login",{replaceUrl:!0}))}}],backdropDismiss:!1});case 2:return n=r.sent,r.next=5,n.present();case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}}),r,this)})))}},{key:"getKeyPairValue",value:function(e){var t=[];for(var r in e)t.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t=t.join("&")}},{key:"dataURItoBlob",value:function(e){for(var t=window.atob(e),r=new ArrayBuffer(t.length),n=new Uint8Array(r),a=0;a<t.length;a++)n[a]=t.charCodeAt(a);return new Blob([n],{type:"image/jpeg"})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Ob(c.a),u.Ob(i.a),u.Ob(l.a),u.Ob(p.g))},t.\u0275prov=u.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},PCNd:function(t,n,a){"use strict";a.d(n,"a",(function(){return g}));var o,s,i=a("ofXK"),u=a("3Pt+"),c=a("TEn/"),l=a("fXoL"),p=a("tyNb"),h=((o=function(){function t(r){e(this,t),this.router=r}return r(t,[{key:"canActivate",value:function(){return!!this.loggedIn()||(this.router.navigate(["/login"]),!1)}},{key:"loggedIn",value:function(){return null!==localStorage.getItem("userdata")&&""!==localStorage.getItem("userdata")}}]),t}()).\u0275fac=function(e){return new(e||o)(l.Ob(p.g))},o.\u0275prov=l.Db({token:o,factory:o.\u0275fac}),o),d=a("baId"),g=((s=function t(){e(this,t)}).\u0275mod=l.Fb({type:s}),s.\u0275inj=l.Eb({factory:function(e){return new(e||s)},providers:[h,d.a,i.d],imports:[[i.b,c.t,u.h],i.b,c.t,u.h]}),s)},baId:function(t,n,a){"use strict";a.d(n,"a",(function(){return p}));var o=a("mrSG"),s=a("fXoL"),i=a("TEn/"),u=a("H+bZ"),c=a("kwrG"),l=a("tyNb"),p=function(){var t=function(){function t(r,n,a,o,s,i,u){e(this,t),this.alertController=r,this.apiServices=n,this.toastController=a,this.network=o,this.loadingController=s,this.router=i,this.navCtrl=u}return r(t,[{key:"backPage",value:function(){this.navCtrl.back()}},{key:"callStateList",value:function(e){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isNetwork()){t.next=2;break}return t.abrupt("return",(this.closeLoader(),[]));case 2:e&&this.openLoader(),this.apiServices.stateList().subscribe((function(e){var t=e;if(r.closeLoader(),!t.status)return localStorage.setItem("stateList",JSON.stringify([])),[];localStorage.setItem("stateList",JSON.stringify(t.state_list))}),(function(e){r.closeLoader(),console.log("Error ",e)}));case 3:case"end":return t.stop()}}),t,this)})))}},{key:"getCities",value:function(e,t){if(e.length>0)return e.filter((function(e){return e.StateID===t})).length>0?e.filter((function(e){return e.StateID===t}))[0].City:[]}},{key:"isNetwork",value:function(){return this.closeLoader(),"none"!=this.network.type||(this.presentAlert("No internet","You do not have an Internet connection. Please check your connection status","Ok"),!1)}},{key:"formatephone",value:function(e){return e.replace(/[^a-zA-Z0-9]/g,"").replace(/(\d{3})(\d{3})(\d{4})/,"$1-$2-$3")}},{key:"openNotification",value:function(e){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toastController.create({message:e.message,duration:e.duration?e.duration:3e3,position:e.position?e.position:"top",cssClass:e.class?e.class:"info"});case 2:this.notification=t.sent,this.notification.present();case 4:case"end":return t.stop()}}),t,this)})))}},{key:"formateDateyyyymmddhis",value:function(e){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=("0"+(e.getMonth()+1)).slice(-2),n=("0"+e.getDate()).slice(-2),t.abrupt("return",e.getFullYear()+"-"+r+"-"+n+" "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2));case 2:case"end":return t.stop()}}),t)})))}},{key:"formateDay",value:function(e){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.getDate(),n=e.getFullYear(),a=e.getMonth()+1,t.abrupt("return",(r<10&&(r="0"+r),a<10&&(a="0"+a),e=n+"-"+a+"-"+r));case 2:case"end":return t.stop()}}),t)})))}},{key:"formatAMPM1",value:function(e){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.getHours(),n=e.getMinutes(),a=r>=12?"PM":"AM",t.abrupt("return",(r=(r%=12)||12)+":"+(n=n<10?"0"+n:n)+" "+a);case 2:case"end":return t.stop()}}),t)})))}},{key:"formatAMPM",value:function(e){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.getUTCHours(),n=e.getUTCMinutes(),a=r>=12?"PM":"AM",t.abrupt("return",(r=(r%=12)||12)+":"+(n=n<10?"0"+n:n)+" "+a);case 2:case"end":return t.stop()}}),t)})))}},{key:"openLoader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.loadingController.create({message:t||"",keyboardClose:!0,showBackdrop:!0,cssClass:e});case 2:return this.loading=r.sent,r.next=5,this.loading.present();case 5:case"end":return r.stop()}}),r,this)})))}},{key:"openAlert",value:function(e){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertController.create({message:e||"This is an alert message.",buttons:["OK"],backdropDismiss:!1});case 2:return r=t.sent,t.next=5,r.present();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"openAlertToken",value:function(e,t){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n,a=this;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("Api Status ",e),r.next=3,this.alertController.create({message:t||"This is an alert message.",buttons:[{text:401==e?"Login":"Ok",handler:function(){401==e&&(localStorage.setItem("userdata",""),localStorage.setItem("login_token",""),localStorage.clear(),a.router.navigateByUrl("/login",{replaceUrl:!0}))}}],backdropDismiss:!1});case 3:return n=r.sent,r.next=6,n.present();case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),r,this)})))}},{key:"presentLogout",value:function(e,t,r){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var a,o=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertController.create({message:e,buttons:[{text:r||"Cancel",role:"cancel",handler:function(){}},{text:t||"Yes",handler:function(){localStorage.setItem("userdata",""),localStorage.setItem("login_token",""),localStorage.clear(),o.router.navigateByUrl("/login",{replaceUrl:!0})}}],backdropDismiss:!0});case 2:return a=n.sent,n.next=5,a.present();case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n,this)})))}},{key:"presentAlertToLogin",value:function(e,t,r){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var a,o=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.closeLoader(),n.next=3,this.alertController.create({header:e,message:t,buttons:[{text:r,handler:function(){localStorage.setItem("userdata",""),localStorage.setItem("login_token",""),localStorage.clear(),o.router.navigateByUrl("/login",{replaceUrl:!0})}}]});case 3:return a=n.sent,n.next=6,a.present();case 6:case"end":return n.stop()}}),n,this)})))}},{key:"presentAlert",value:function(e,t,r,n){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function a(){var o,s=this;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.alertController.create({header:e,message:t,buttons:[{text:r,handler:function(){n&&s.router.navigateByUrl("/dashboard",{replaceUrl:!0})}}]});case 2:return o=a.sent,a.next=5,o.present();case 5:case"end":return a.stop()}}),a,this)})))}},{key:"presentConfirm",value:function(e,t,r){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertController.create({message:e||"Do you want to buy this book?",buttons:[{text:r||"Cancel",role:"cancel",handler:function(){}},{text:t||"Yes",handler:function(){}}],backdropDismiss:!1});case 2:return a=n.sent,n.next=5,a.present();case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n,this)})))}},{key:"closeLoader",value:function(){this.loading&&this.loading.dismiss()}},{key:"dataURItoBlob",value:function(e){var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var r=e.split(",")[0].split(":")[1].split(";")[0],n=new Uint8Array(t.length),a=0;a<t.length;a++)n[a]=t.charCodeAt(a);return new Blob([n],{type:r})}},{key:"returnImageName",value:function(e,t,r){var n;return r?(n=(new Date).getTime()+e+".jpg",r.lastModified=new Date,r.name=n):n=(new Date).getTime()+e+t.name,n.replace(/_/g," "),n=(n=n.replace(/\s+/g,"-")).replace(/%20/g,"_")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(s.Ob(i.a),s.Ob(u.a),s.Ob(i.A),s.Ob(c.a),s.Ob(i.v),s.Ob(l.g),s.Ob(i.w))},t.\u0275prov=s.Db({token:t,factory:t.\u0275fac}),t}()}}])}();